<%- include('../partials/header') %>

<h1>All Dining Experiences</h1>

<div style="margin-bottom: 2rem; text-align: right;">
  <a href="/experiences/new">
    <button>Add New Experience</button>
  </a>
</div>

<% for (let day in experiencesByDay) { %>
  <section class="day-section">
    <h2><%= day %></h2>

    <% if (experiencesByDay[day].length > 0) { %>
      <div class="experience-grid">
        <% experiencesByDay[day].forEach(experience => { %>
          <div class="experience-card">
            <h3><%= experience.title %></h3>

            <p><strong>Ambiance:</strong> <%= experience.ambiance %></p>

            <% if (experience.playlistUrl) { %>
              <p><a href="<%= experience.playlistUrl %>" target="_blank">Listen to Playlist ðŸŽµ</a></p>
            <% } %>

            <a href="/experiences/<%= experience._id %>">
              <button>View Experience</button>
            </a>

            <div class="experience-tags">
              <span class="tag mood"><%= experience.mood %></span>
              <span class="tag"><%= experience.music %></span>
            </div>
          </div>
        <% }) %>
      </div>
    <% } else { %>
      <p class="empty-message">No experiences yet for <%= day %>.</p>
    <% } %>
  </section>
<% } %>

<%- include('../partials/footer') %>

<%- include('../partials/header') %>

<h1>All Experiences</h1>

<div class="experience-grid">
  <% if (experiences.length > 0) { %>
    <% experiences.forEach(experience => { %>
      <div class="experience-card">
        <h2><a href="/experiences/<%= experience._id %>"><%= experience.title %></a></h2>
        <div class="tag-row">
          <span class="tag"><%= experience.dayOfWeek %></span>
          <span class="tag"><%= experience.mood %></span>
          <span class="tag"><%= experience.music %></span>
        </div>
        <p><strong>Ambiance:</strong> <%= experience.ambiance %></p>
        <% if (experience.notes) { %>
          <p><%= experience.notes %></p>
        <% } %>
        <a href="/experiences/<%= experience._id %>">View Details â†’</a>
      </div>
    <% }) %>
  <% } else { %>
    <p>No experiences have been added yet.</p>
  <% } %>
</div>

<% if (user) { %>
  <div style="margin-top: 2rem; text-align: center;">
    <a href="/experiences/new">
      <button>Add New Experience</button>
    </a>
  </div>
<% } %>

<%- include('../partials/footer') %>

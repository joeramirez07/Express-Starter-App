<%- include('../partials/header') %>

<h1>All Experiences</h1>

<% for (let day in grouped) { %>
  <h2><%= day %></h2>

  <% if (grouped[day].length > 0) { %>
    <div class="experience-grid">
      <% grouped[day].forEach(experience => { %>
        <div class="experience-card">
          <span class="venue-badge"><%= experience.venue %></span>
          <h3><a href="/experiences/<%= experience._id %>"><%= experience.title %></a></h3>
          <div class="tag-row">
            <span class="tag"><%= experience.mood %></span>
            <span class="tag"><%= experience.music %></span>
          </div>
          <p><strong>Ambiance:</strong> <%= experience.ambiance %></p>
          <% if (experience.notes) { %>
            <p><%= experience.notes %></p>
          <% } %>
          <a href="/experiences/<%= experience._id %>">View Details â†’</a>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <p class="empty-day-msg">No experiences yet for <%= day %>.</p>
  <% } %>
<% } %>

<% if (user) { %>
  <div style="margin-top: 2rem; text-align: center;">
    <a href="/experiences/new">
      <button>Add New Experience</button>
    </a>
  </div>
<% } %>

<%- include('../partials/footer') %>
